local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local ScriptsByGame = {
    [590359607] = "https://api.junkie-development.de/api/v1/luascripts/public/72e053ba5d82912a2cddf7a371a3ab8de7bd5cbad09b2badda78ffbca0b283e3/download",
    [6739698191] = "https://pandadevelopment.net/virtual/file/e539b478f0ea7914"
}

local gameId = game.GameId
local url = ScriptsByGame[gameId]

if not url then
    LocalPlayer:Kick("แมพไม่รองรับรันหาแม่มึงหรอ / Script not Support this Map")
    return
end

local ok, res = pcall(function()
    return game:HttpGet(url)
end)

if not ok or type(res) ~= "string" then
    warn("[Loader] HttpGet failed")
    return
end

if res:sub(1, 1) == "<" then
    warn("[Loader] Response is HTML, not Lua")
    return
end

local fn, err = loadstring(res)
if not fn then
    warn("[Loader] Compile error:", err)
    return
end

local runOk, runErr = pcall(fn)
if not runOk then
    warn("[Loader] Runtime error:", runErr)
end
